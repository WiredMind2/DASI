<!DOCTYPE html>
<html lang="fr">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Carte des Clients | PREDICT'IF</title>
        <link rel="stylesheet" href="employee-styles.css">
    </head>

    <body>
        <header class="header">

            <div class="greeting" id="greeting">Bonjour</div>
            <script>
                document.addEventListener("DOMContentLoaded", async function () {
                    let username = null;
                    const url = "/frontend/ActionServlet/checkConnected";
                    try {
                        const response = await fetch(url);
                        if (!response.ok) {
                            throw new Error(`Response status: ${response.status}`);
                        }

                        username = await response.text();
                    } catch (error) {
                        console.error(error.message);
                    }

                    if (username != null) {
                        document.getElementById('greeting').textContent = 'Bonjour ' + username;
                    } else {

                        document.getElementById('greeting').textContent = 'Bonjour';
                    }
                });
            </script>

            <div class="nav-buttons">
                <button class="nav-button" onclick="window.location.href = 'index.html'">Accueil</button>
                <button class="nav-button" onclick="handleLogout()">DÃ©connexion</button>
                <script>
                    function handleLogout() {
                        window.location.href = '/frontend/ActionServlet/disconnect';
                    }
                </script>
            </div>
        </header>

        <main class="main-content">
            <div class="card">
                <div class="world-map">
                    CARTE DU MONDE AVEC LES CLIENTS EPINGLES
                </div>
            </div>
        </main>
    </body>

</html>